<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="firebase-storage-behavior.html"><script>(function(){'use strict';Polymer({is:'firebase-storage-upload-task',properties:{task:{type:Object,value:null,observer:'_taskChanged'},bytesTransferred:{type:Number,notify:!0},totalBytes:{type:Number,notify:!0},state:{type:Object,notify:!0},downloadUrl:{type:String,notify:!0},metadata:{type:Object,notify:!0},path:{type:String,notify:!0},snapshot:{type:Object,notify:!0}},behaviors:[Polymer.FirebaseStorageBehavior],get zeroValue(){return[]},_updateProperties:function(a){this.state=a.state,this.totalBytes=a.totalBytes,this.bytesTransferred=a.bytesTransferred,this.downloadUrl=a.downloadURL,this.metadata=a.metadata,this.path=a.ref.fullPath,this.snapshot=a},_taskChanged:function(a){this._updateProperties(a.snapshot),a.on(firebase.storage.TaskEvent.STATE_CHANGED,this._updateProperties.bind(this),function(b){this._updateProperties(a.snapshot),this.fire('error',b,{bubble:!1})}.bind(this),function(){this._updateProperties(a.snapshot)}.bind(this))},cancel:function(){return this.task?this.task.cancel():new Promise(function(a,b){b('No task included')})},resume:function(){return this.task?this.task.resume():new Promise(function(a,b){b('No task included')})},pause:function(){return this.task?this.task.pause():new Promise(function(a,b){b('No task included')})}})})();</script></head><body></body></html>