<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="firebase-storage-behavior.html"><script>(function(){'use strict';Polymer({is:'firebase-storage-multiupload',properties:{files:{type:Array},uploadTasks:{type:Array,notify:!0,value:[]},auto:{type:Boolean,value:!1}},behaviors:[Polymer.FirebaseStorageBehavior],get isNew(){return!this.path},get zeroValue(){return[]},observers:['__filesChanged(files, auto)'],upload:function(a,b){this.app||this.fire('error',new Error('No app configured!')),this._putMultipleFirebaseFiles(b||this.path,a&&a.length?a:this.files),b&&(this.path=b)},reset:function(){return this.path=null,this.clearTasks(),Promise.resolve()},clearTasks:function(){this.uploadTasks=[]},_putMultipleFirebaseFiles:function(a,b){if(this._log('Putting Multiple Firebase files at',a?this.path+'/'+a:this.path),b=b&&'object'===typeof b&&b.name?[b]:b,b&&0<b.length)for(var c,d=0;d<b.length;d++)c=this.__put(a,b[d],this.metadata?this.metadata:b[d].metadata),c.on(firebase.storage.TaskEvent.STATE_CHANGED,function(){},function(a){this.fire('error',a,{bubble:!1})}.bind(this)),this.push('uploadTasks',c)},__filesChanged:function(a,b){b&&a&&a.length&&this.upload(a)},__pathChanged:function(a,b){null!=b&&this.clearTasks()}})})();</script></head><body></body></html>